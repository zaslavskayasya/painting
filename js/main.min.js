console.log("testfgyjh");

let burgerMenu = document.querySelector('.menu-burger__header');
let navMenu =  document.querySelector('.navbar');

burgerMenu.addEventListener("click", function(){
    console.log(burgerMenu);
    burgerMenu.classList.contains('open-menu') ?
    burgerMenu.classList.remove('open-menu') :
    burgerMenu.classList.add('open-menu');
    navMenu.classList.contains('open-menu') ?
    navMenu.classList.remove('open-menu') :
    navMenu.classList.add('open-menu');
});


function myFunction() {
    document.getElementById("myDropdown").classList.toggle("show");
  }
  
  function filterFunction() {
    var input, filter, ul, li, span, i;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    div = document.getElementById("myDropdown");
    span = div.getElementsByTagName("span");
    for (i = 0; i < span.length; i++) {
      txtValue = span[i].textContent || span[i].innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        span[i].style.display = "";
      } else {
        span[i].style.display = "none";
      }
    }    
  }

let drop = document.querySelector(".dropbtn");

$(document).on('click', 'span[class^="search-span"]', function(e) {
    e.preventDefault();
    var text = $(this).text();
    console.log(text);

    $(this).closest('.dropdown').find('.dropbtn').text(text);

    // console.log(e.target);
    // console.log(this.text());
    // alert('Вы кликнули по ссылке с классом ' + this.className);
});


$(function() {
    var settings = {
    "async": true,
    "crossDomain": true,
    "url": "https://novaposhta.ua/v2.0/json/AddressGeneral/getWarehouses",
    "method": "POST",
    "Access-Control-Allow-Origin": "http://localhost:8848/",
    "modelName": "AddressGeneral",
    "calledMethod": "getWarehouses",
    "headers": {
      "content-type": "application/json",
  
    },
    "processData": false,
    "apiKey": "fc7848542044a926ad7e17846f215490",
    "data": "{\r\n\"apiKey\": \"\",\r\n \"modelName\": \"Address\",\r\n \"calledMethod\": \"searchSettlements\",\r\n \"methodProperties\": {\r\n \"CityName\": \"васильевка\",\r\n \"Limit\": 5\r\n }\r\n}"
  }
  
  $.ajax(settings).done(function (response) {console.log(response); });

});

// var form  = document.getElementsByTagName('form')[0];

// var email = document.querySelector('.contact-mail');
// var userName = document.querySelector('.contact-name');

// let checkErrorClass = function(err){
// 	elemErr = err.nextElementSibling
// 	elemErr.classList.contains('active') ?
// 	elemErr.closest(".form-floating").classList.add('error-decor') :
// 	elemErr.closest(".form-floating").classList.remove('error-decor');
// };

// let changeItem = function(varName, content, classes){
// 	varName.nextElementSibling.innerHTML = content ?? "";
// 	varName.nextElementSibling.className = classes ?? "error";
// };

// let createEvent = function(varName, element = "input", func, prevent = false){
// 	/* Каждый раз, когда пользователь вводит что-либо, мы проверяем,
// 	   является ли корректным поле электронной почты. */
// 	varName.addEventListener(element, function(e){
// 		if (func){
// 			func(e);
// 		} else {
// 			if (varName.validity.valid){
// 				/* В случае появления сообщения об ошибке, если поле
// 				   является корректным, мы удаляем сообщение об ошибке. */
// 				changeItem(varName);
// 			};
// 			checkErrorClass(varName);
	
// 			if (prevent == true) {
// 				e.preventDefault();
// 			}
// 		}
// 	}, false);
// };

// createChecker = function(varName, ErrObj, classes = "error active"){
// 	createEvent(varName);
// 	var checker = false;
// 	for (var [key, value] of Object.entries(ErrObj)){
// 		if (checker = varName.validity[key]){
// 			changeItem(varName, value, classes);
// 			checkErrorClass(varName);
// 			return false;
// 		}
// 	}
// 	if (!checker){
// 		changeItem(varName);
// 		return true;
// 	}
// };

// // проверки при отправке

// createEvent(form, "submit", function(e){
	
// 	var valid = false
	
// 	valid = createChecker(userName, {
// 		"valueMissing": "Enter your name, please",
// 		"patternMismatch": "Enter correct name, please"
// 	});

// 	valid = createChecker(email, {
// 		"valueMissing": "Enter your email, please",
// 		"patternMismatch": "Enter correct email, please"
// 	});

// 	e.preventDefault();
	
// 	// Enter event valid
// 	// ... .contact-page

//     console.log(valid);

//     // if(valid ){
//     //     let contactPageCheck = document.querySelector('.contact-page');
        

// 		// let investPageCheck = document.querySelector('.invest-page');        

//     //     if(!!contactPageCheck == true){
//     //         contactPageCheck.classList.add('success');
//     //     }
// 		// if(!!investPageCheck == true){
// 		// 	document.location.href = "https://docs.google.com/forms/d/e/1FAIpQLSeKciikTYOHjN_0rlvJ32xzON_l5KMUY7gzoC7oOhA855ohtg/viewform";
// 		// }
//     // }
// });